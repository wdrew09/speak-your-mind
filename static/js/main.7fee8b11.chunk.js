(this.webpackJsonpspeakyourmind=this.webpackJsonpspeakyourmind||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(0),s=n.n(o),a=n(16),r=n.n(a),i=(n(23),n(24),n(8)),l=n(2);n(25);var j=void 0,u=function(){var e=function(){console.log("onlogout"),j.setState({isLoading:!0});var e=function(e){if(!e)return null;try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(n){return null}}("speak_your_mind");if(e&&e.token){var t=e.token;console.log("a"),fetch("/api/account/logout?token="+t).then((function(e){return e.json()})).then((function(e){e.success?(console.log("success"),j.setState({token:"",isLoading:!1})):(console.log("here "),j.setState({isLoading:!1}))}))}else console.log("ahhh"),j.setState({isLoading:!1})};return Object(c.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(c.jsx)(i.b,{to:"/",className:"navbar-brand",children:"a"}),Object(c.jsx)("div",{className:"collpase navbar-collapse",children:Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"navbar-item",children:Object(c.jsx)(i.b,{to:"/",className:"nav-link",children:"b"})}),Object(c.jsx)("li",{className:"navbar-item",children:Object(c.jsx)(i.b,{to:"/create",className:"nav-link",children:"c"})}),Object(c.jsx)("li",{className:"navbar-item",children:Object(c.jsx)("button",{onClick:function(){return e()},children:"Logout"})})]})})]})},b=n(9),h=function(e){var t=Object(o.useState)(),n=Object(b.a)(t,2),s=n[0],a=n[1],r=Object(o.useState)(),i=Object(b.a)(r,2),l=i[0],j=i[1],u=function(){s&&l&&fetch("http://localhost:5000/api/account/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:l})}).then((function(e){return e.json()})).then((function(e){e.success?(!function(e,t){e||console.log("Error key is ,missing");try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}("speak_your_mind",{token:e.token}),a(""),j("")):console.log("failure")}))};return console.log("hey"),Object(c.jsxs)("div",{children:["login username",Object(c.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"password",Object(c.jsx)("input",{type:"password",onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){return u()},children:"login"})]})},O=function(e){return Object(c.jsx)("div",{})},d=function(e){return Object(c.jsx)("div",{})},g=function(){var e=Object(o.useState)(),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(o.useState)(),r=Object(b.a)(a,2),i=r[0],l=r[1];return console.log("hey"),Object(c.jsxs)("div",{children:["username",Object(c.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"password",Object(c.jsx)("input",{type:"password",onChange:function(e){return l(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){n&&i&&n.length>3&&i.length>6&&(console.log(n,i),fetch("http://localhost:5000/api/account/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i})}).then((function(e){return e.json()})).then((function(e){e.success?(console.log("success"),console.log(e),s(""),l("")):console.log("failure")})))},children:"sign up"})]})};var p=function(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(u,{}),Object(c.jsx)("br",{}),Object(c.jsx)(l.a,{path:"/",exact:!0,component:h}),Object(c.jsx)(l.a,{path:"/posts",component:d}),Object(c.jsx)(l.a,{path:"/account",component:O}),Object(c.jsx)(l.a,{path:"/sign-up",component:g})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),s(e),a(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),x()}},[[31,1,2]]]);
//# sourceMappingURL=main.7fee8b11.chunk.js.map