{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/macbookpro/PersonalProjects/speakyourmind/client/src/Components/myLikes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../store/actions/index';\nimport { axiosInstance } from '../index';\nimport { Dropdown } from 'react-bootstrap';\nimport './postView.css';\nimport PostItem from './Components/postItem';\nconstMyLikes = _s(props => {\n  _s();\n\n  const [postsList, setPostsList] = useState([]);\n  const [user, setUser] = useState();\n  const [render, setRender] = useState(false);\n  useEffect(() => {\n    console.log('hey');\n    axiosInstance.get('posts/').then(response => {\n      if (response.data.length > 0) {\n        console.log(response.data);\n        let sorted = response.data.sort((a, b) => {\n          return new Date(b.date) - new Date(a.date);\n        });\n        setPostsList(sorted);\n      } else {\n        console.log('error retrieving posts');\n      }\n    });\n    getLikedAndDisliked();\n  }, []);\n\n  const getLikedAndDisliked = () => {\n    axiosInstance.post('account/info', {\n      userId: props.userId\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.success) {\n        console.log(response.data.user);\n        setUser(response.data.user);\n      } else {\n        console.log('error retrieving user info');\n      }\n    });\n  };\n\n  const postFilter = filterType => {\n    let unfilteredList = postsList;\n\n    if (filterType == 'popular') {\n      unfilteredList.sort((a, b) => {\n        return b.likes - a.likes;\n      });\n    } else if (filterType == 'contraversal') {\n      unfilteredList.sort((a, b) => {\n        return b.dislikes - a.dislikes;\n      });\n    } else if (filterType == 'oldest') {\n      unfilteredList.sort((a, b) => {\n        return new Date(a.date) - new Date(b.date);\n      });\n    } else if (filterType == 'newest') {\n      unfilteredList.sort((a, b) => {\n        return new Date(b.date) - new Date(a.date);\n      });\n    }\n\n    setPostsList(unfilteredList);\n    setRender(!render);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"PostView\",\n    children: [/*#__PURE__*/_jsxDEV(Dropdown, {\n      style: {\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n        variant: \"primary\",\n        id: \"dropdown-basic\",\n        children: \"Sort\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => postFilter('popular'),\n          children: \"Popular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => postFilter('contraversal'),\n          children: \"Contraversal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => postFilter('oldest'),\n          children: \"Oldest First\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => postFilter('newest'),\n          children: \"Newest First\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), postsList && user && postsList.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(PostItem, {\n        title: post.title,\n        content: post.content,\n        author: post.username,\n        likes: post.likes,\n        dislikes: post.dislikes,\n        postId: post._id,\n        userLikes: user.likedPosts,\n        userDislikes: user.dislikedPosts,\n        userId: props.userId,\n        token: props.token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }, this)]\n    }, post._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}, \"yS0ERtg38Mj+QKfDhwbZa8gequo=\");\n\nconst mapStateToProps = state => {\n  return {\n    userId: state.auth.userId,\n    username: state.auth.username,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setAlert: (message, style) => dispatch(actionCreators.setAlert(message, style))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyLikes);","map":{"version":3,"sources":["/Users/macbookpro/PersonalProjects/speakyourmind/client/src/Components/myLikes.js"],"names":["React","useEffect","useState","Link","Redirect","connect","actionCreators","axiosInstance","Dropdown","PostItem","constMyLikes","props","postsList","setPostsList","user","setUser","render","setRender","console","log","get","then","response","data","length","sorted","sort","a","b","Date","date","getLikedAndDisliked","post","userId","success","postFilter","filterType","unfilteredList","likes","dislikes","marginBottom","map","title","content","username","_id","likedPosts","dislikedPosts","token","mapStateToProps","state","auth","mapDispatchToProps","dispatch","setAlert","message","style","MyLikes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../store/actions/index';\nimport { axiosInstance } from '../index';\n\nimport { Dropdown } from 'react-bootstrap';\nimport './postView.css';\n\nimport PostItem from './Components/postItem';\n\nconstMyLikes = props => {\n    const [postsList, setPostsList] = useState([])\n    const [user, setUser] = useState()\n    const [render, setRender] = useState(false)\n\n    useEffect(() => {\n        console.log('hey')\n        axiosInstance.get('posts/')\n            .then(response => {\n                if (response.data.length > 0) {\n                    console.log(response.data)\n                    let sorted = response.data.sort((a, b) => { return (new Date(b.date) - new Date(a.date)) })\n                    setPostsList(sorted)\n                } else {\n                    console.log('error retrieving posts')\n                }\n            })\n        getLikedAndDisliked()\n    }, [])\n\n    const getLikedAndDisliked = () => {\n        axiosInstance.post('account/info', {\n            userId: props.userId\n        })\n            .then(response => {\n                console.log(response)\n                if (response.data.success) {\n                    console.log(response.data.user)\n                    setUser(response.data.user)\n                } else {\n                    console.log('error retrieving user info')\n                }\n            })\n    }\n\n    const postFilter = (filterType) => {\n        let unfilteredList = postsList\n        if (filterType == 'popular') {\n            unfilteredList.sort((a, b) => { return (b.likes - a.likes) })\n        } else if (filterType == 'contraversal') {\n            unfilteredList.sort((a, b) => { return (b.dislikes - a.dislikes) })\n        } else if (filterType == 'oldest') {\n            unfilteredList.sort((a, b) => { return (new Date(a.date) - new Date(b.date)) })\n        } else if (filterType == 'newest') {\n            unfilteredList.sort((a, b) => { return (new Date(b.date) - new Date(a.date)) })\n        }\n        setPostsList(unfilteredList)\n        setRender(!render)\n    }\n\n    return (\n        <div className=\"PostView\">\n            <Dropdown style={{marginBottom: '20px'}}>\n                <Dropdown.Toggle variant=\"primary\" id=\"dropdown-basic\">\n                    Sort\n                </Dropdown.Toggle>\n                <Dropdown.Menu>\n                    <Dropdown.Item onClick={() => postFilter('popular')}>Popular</Dropdown.Item>\n                    <Dropdown.Item onClick={() => postFilter('contraversal')}>Contraversal</Dropdown.Item>\n                    <Dropdown.Item onClick={() => postFilter('oldest')}>Oldest First</Dropdown.Item>\n                    <Dropdown.Item onClick={() => postFilter('newest')}>Newest First</Dropdown.Item>\n                </Dropdown.Menu>\n            </Dropdown>\n            {(postsList && user) &&\n                (postsList.map((post) => (\n                    <div key={post._id}>\n                        <PostItem\n                            title={post.title}\n                            content={post.content}\n                            author={post.username}\n                            likes={post.likes}\n                            dislikes={post.dislikes}\n                            postId={post._id}\n                            userLikes={user.likedPosts}\n                            userDislikes={user.dislikedPosts}\n                            userId={props.userId}\n                            token={props.token}\n                        />\n                        <br />\n                        <br />\n                    </div>\n                )))\n            }\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        username: state.auth.username,\n        token: state.auth.token\n    };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setAlert: (message, style) => dispatch(actionCreators.setAlert(message, style))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyLikes);"]},"metadata":{},"sourceType":"module"}